<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Roblox Nostalgia CTF — Retro Quiz</title>

  <!-- Retro pixel font -->
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#070707;
      --panel:#0f1112;
      --accent:#00ffd5;
      --accent-2:#ff3fb6;
      --neon:#d4ffef;
      --muted:#9bd1c8;
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0;padding:0;background:linear-gradient(180deg,#030303 0%,#0a0f12 100%);font-family:'Press Start 2P', monospace;color:var(--neon);-webkit-font-smoothing:antialiased;}
    #screen{max-width:980px;margin:28px auto;border:5px solid rgba(0,255,213,0.08);padding:18px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);box-shadow:0 8px 40px rgba(3,3,3,0.7),0 0 30px rgba(0,255,213,0.04) inset;border-radius:8px}

    .topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
    .topbar h1{font-size:14px;color:var(--accent-2);margin:0;text-shadow:2px 2px 0 rgba(0,0,0,0.7)}
    #timer{font-size:12px;color:var(--accent);background:#061011;padding:8px 12px;border-radius:4px;border:1px solid rgba(0,255,213,0.06)}

    #quiz-area{padding:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);border-radius:6px;border:2px solid rgba(255,255,255,0.02)}
    .question{border:2px dashed rgba(0,255,213,0.04);padding:10px;margin-bottom:12px;border-radius:6px;background:linear-gradient(180deg, rgba(255,255,255,0.005), transparent)}
    .q-title{font-size:11px;color:#fff;margin-bottom:8px}
    .options{display:flex;flex-direction:column;gap:8px}
    .option label{display:flex;gap:10px;align-items:center;cursor:pointer;padding:8px;border-radius:4px;border:1px solid rgba(255,255,255,0.02);background:#081112}
    input[type="radio"]{accent-color:var(--accent)}

    .controls{display:flex;justify-content:center;margin-top:10px}
    #submit-btn{background:linear-gradient(90deg,var(--accent-2),#ff9bd6);border:none;color:#061011;padding:12px 18px;border-radius:6px;cursor:pointer;font-weight:700;box-shadow:0 8px 20px rgba(255,63,182,0.08)}
    #submit-btn:hover{transform:translateY(-2px)}

    #result{margin-top:16px;font-size:11px;min-height:44px}

    .bottombar{text-align:center;margin-top:12px;color:var(--muted);font-size:9px}

    .flag-box{margin-top:12px;padding:12px;background:#062024;border:2px solid #003330;border-radius:6px;color:#aaffdf}
    .pulse {animation:pulse 1s infinite;}
    @keyframes pulse {0%{transform:scale(1)}50%{transform:scale(1.02)}100%{transform:scale(1)}}

    @media (max-width:640px){
      #screen{padding:12px}
      .topbar{flex-direction:column;gap:8px;align-items:flex-start}
    }
  </style>
</head>
<body>
  <div id="screen">
    <header class="topbar">
      <h1>🎮 ROBLOX NOSTALGIA — 2014 → 2019</h1>
      <div id="timer">Time Left: 20:00</div>
    </header>

    <main id="quiz-area">
      <form id="quiz-form" autocomplete="off" novalidate></form>

      <div class="controls">
        <button id="submit-btn" type="button">Submit Answers</button>
      </div>

      <div id="result" aria-live="polite"></div>
    </main>

    <footer class="bottombar">
      <small>Retro mode • 30 questions • Pass = 85% (26/30)</small>
    </footer>
  </div>

  <script>
    // === CONFIG ===
    const PASS_PERCENT = 85;
    const TOTAL = 30;
    const PASS_REQUIRED = Math.ceil(TOTAL * PASS_PERCENT / 100); // 26
    const TIME_LIMIT_SECONDS = 20 * 60; // 20 minutes
    const FLAG = "ITECTF2025{TrueRobloxian}";

    // === QUESTIONS ===
    const QUESTIONS = [
      {q:"1) What was the major Roblox event in 2016 that introduced 'events' and in-game US-based meetups?",choices:["Bloxy Awards","Roblox Rally","RBXCon","Developer Exchange"],a:0},
      {q:"2) Which popular Roblox game exploded in popularity around 2016 due to user-created story experiences?",choices:["Adopt Me!","Murder Mystery 2","Jailbreak","Phantom Forces"],a:1},
      {q:"3) 'Builderman' is the username of which Roblox co-founder?",choices:["David Baszucki","Erik Cassel","John Shedletsky","Zack Brown"],a:0},
      {q:"4) In 2017, which avatar system update caused uproar and later revisions to 'Classic' avatars?",choices:["R6 to R15 change","Dynamic Heads","Layered Clothing","Avatar Scaling"],a:2},
      {q:"5) Which in-game currency was used across Roblox in 2014–2019 for premium purchases?",choices:["Robux","Credits","BloxxCoins","Tickets"],a:0},
      {q:"6) Which feature that allowed player-to-player trades was reintroduced in 2016 after community requests?",choices:["Limiteds","Trading System","Group Funds","Friend Invites"],a:1},
      {q:"7) Which 2015–2018 FPS by a major Roblox dev made realistic gunplay and modern maps?",choices:["Counter Blox","Phantom Forces","Arsenal","Bad Business"],a:1},
      {q:"8) Which popular pet-trading game launched in 2019 and later became a megahit?",choices:["Adopt Me!","Pet Simulator","Mighty Pets","Labrador Tycoon"],a:0},
      {q:"9) What social feature (2014–2017) allowed groups of players to voice chat in certain games?",choices:["Voice Chat (beta)","Party System","Group Chat","Private Channels"],a:0},
      {q:"10) Which major Roblox developer released 'Jailbreak' in 2016?",choices:["Badimo","RedManta","Rixter","DreamCraft"],a:0},
      {q:"11) What was the name of Roblox's 2014 virtual currency for small purchases (which was retired earlier)?",choices:["Tickets (Tix)","Coins","RobloPoints","Bux"],a:0},
      {q:"12) Which 2017 UI/UX feature allowed creators to sell more complex items via the Avatar Shop?",choices:["Bundles","Limiteds","Mesh Support","Dynamic Pricing"],a:2},
      {q:"13) What year did Roblox first launch a major mobile push making many games available on phones?",choices:["2012","2014","2016","2018"],a:1},
      {q:"14) Which classic Roblox game type dominated early 2015–2017?",choices:["Tycoon","Obby","Simulator","Battle Royale"],a:1},
      {q:"15) Which of these was a prominent trend for limited-run avatar items (2015–2019)?",choices:["Community-created hats","Automatic refunds","Monthly subscriptions","Avatar NFTs"],a:0},
      {q:"16) Which Roblox system introduced in the era improved anti-exploit and filtering for chat?",choices:["SafeChat 2.0","Text Filtering improvements","Manual moderation","Open Chat"],a:1},
      {q:"17) Which competitive PvP game from 2016 used realistic gun mechanics and a strong esports scene on Roblox?",choices:["Ace of Spades","Phantom Forces","Sword Fights","Combat Warriors"],a:1},
      {q:"18) What feature did creators widely use to make richer worlds via user-created meshes?",choices:["Custom Meshes","Audio Uploads","Plugins","3D Studio Export"],a:0},
      {q:"19) Which demo/test environment did Roblox provide for creators to collaborate on builds?",choices:["Team Create","Studio Share","Collab Hub","Group Studio"],a:0},
      {q:"20) Which of these was an extremely popular 'obstacle course' subgenre in 2014–2018?",choices:["Obby","Parkour Royale","Skyrim Run","Jump Quest"],a:0},
      {q:"21) Which year did Roblox begin using a more modern marketplace and developer payouts improvements?",choices:["2013","2015","2017","2019"],a:2},
      {q:"22) Which popular social hangout/game that soared mid-2010s is heavy on roleplay & home decorating?",choices:["MeepCity","Work at a Pizza Place","Super Hero Tycoon","Theme Park"],a:0},
      {q:"23) Which change let creators monetize experiences via 'Game Passes' or 'Developer Products'?",choices:["Robux Integration","Monetization API","DevEx","In-Game Marketplace"],a:1},
      {q:"24) Which toy/collectible concept was massively emulated on Roblox?",choices:["Trading cards","Limited hats","Gacha pets","Farming seeds"],a:1},
      {q:"25) Which was a popular 2014–2018 community-driven content hub for sharing models and meshes?",choices:["Roblox Creator Forum","Model Marketplace","DevHub","Roblox Library"],a:3},
      {q:"26) Which gameplay feature became more common: 'simulators' where you grind for pets/resources?",choices:["Yes, simulator genre exploded","No, never popular","Only for mobile","Banned in 2018"],a:0},
      {q:"27) Which 'awards' show is organized by Roblox for community-built games and creators?",choices:["The Bloxy Awards","The Robux Gala","Creator Fest","RBX Awards"],a:0},
      {q:"28) Which of the following was added to Roblox Studio to help new creators learn quickly?",choices:["Toolbox templates & tutorials","Paid certification","Auto-scripting AI","Studio VR mode"],a:0},
      {q:"29) What approach did many creators take to avoid chat filter blocks for roleplay in that period?",choices:["Use in-game UI messaging & symbols","Use external Discord","Turn off chat","Sell chat passes"],a:0},
      {q:"30) Which of these describes the community vibe 2014–2019?",choices:["Rapid growth, community-made hits, early monetization","Decline & stagnation","Closed platform","Strictly professional only"],a:0}
    ];

    const form = document.getElementById('quiz-form');
    const submitBtn = document.getElementById('submit-btn');
    const timerEl = document.getElementById('timer');
    const resultEl = document.getElementById('result');

    function render() {
      QUESTIONS.forEach((qs, idx) => {
        const qWrap = document.createElement('div');
        qWrap.className = 'question';
        qWrap.innerHTML = `<div class="q-title">${qs.q}</div>`;
        const opts = document.createElement('div');
        opts.className = 'options';
        qs.choices.forEach((choice, cidx) => {
          const label = document.createElement('label');
          label.innerHTML = `<input type="radio" name="q${idx}" value="${cidx}"> <span>${choice}</span>`;
          opts.appendChild(label);
        });
        qWrap.appendChild(opts);
        form.appendChild(qWrap);
      });
    }

    function computeScore() {
      let correct = 0;
      for (let i=0;i<QUESTIONS.length;i++) {
        const radios = form[`q${i}`];
        if (!radios) continue;
        const chosen = Array.from(radios).find(r=>r.checked);
        if (chosen && Number(chosen.value) === QUESTIONS[i].a) correct++;
      }
      return correct;
    }

    function handleSubmit(auto=false) {
      submitBtn.disabled = true;
      const correct = computeScore();
      const pct = Math.round((correct / TOTAL) * 100);
      let html = `<div>Score: <strong>${correct}/${TOTAL}</strong> (${pct}%)</div>`;
      if (correct >= PASS_REQUIRED) {
        html += `<div class="flag-box pulse">✅ PASS — Flag unlocked:<br><code>${FLAG}</code></div>`;
      } else {
        html += `<div style="color:#ff8f8f">❌ FAILED — You need ${PASS_REQUIRED} correct to pass (85%).</div>`;
      }
      if (auto) html += `<div style="margin-top:8px;color:#8d97ff;font-size:11px">Auto-submitted because time expired.</div>`;
      resultEl.innerHTML = html;
    }

    let timeLeft = TIME_LIMIT_SECONDS;
    function formatTime(s){const m=Math.floor(s/60),sec=s%60;return `${String(m).padStart(2,'0')}:${String(sec).padStart(2,'0')}`;}
    function startTimer(){
      timerEl.textContent = 'Time Left: '+formatTime(timeLeft);
      const interval=setInterval(()=>{
        timeLeft--;
        timerEl.textContent='Time Left: '+formatTime(timeLeft);
        if(timeLeft<=0){clearInterval(interval);timerEl.textContent='Time Left: 00:00';handleSubmit(true);}
      },1000);
    }

    render();
    startTimer();

    submitBtn.addEventListener('click',()=>{
      if(confirm("Submit your answers now?")){handleSubmit(false);}
    });

    // === ANTI-SOURCE PROTECTIONS ===
    document.addEventListener("contextmenu", e => e.preventDefault());
    document.addEventListener("selectstart", e => e.preventDefault());
    document.addEventListener("dragstart", e => e.preventDefault());

    document.addEventListener("keydown", function(e) {
      if (
        e.key === "F12" ||
        (e.ctrlKey && e.key.toLowerCase() === "u") ||
        (e.ctrlKey && e.key.toLowerCase() === "s") ||
        (e.ctrlKey && e.key.toLowerCase() === "p") ||
        (e.ctrlKey && e.shiftKey && e.key.toLowerCase() === "i")
      ) {
        e.preventDefault();
        alert("🚫 Source viewing is disabled!");
        return false;
      }
    });

    // Detect DevTools open
    let devtools = false;
    const element = new Image();
    Object.defineProperty(element, 'id', {
      get: function() {
        devtools = true;
        alert("🚨 DevTools detected! Source is protected.");
      }
    });
    console.log(element);
  </script>
</body>
</html>
